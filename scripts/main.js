var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};
$(function(){setTimeout(function(){$(".loading_scene").css("display","none");$(".title").css("opacity","1");renderDays();renderGameTypes();$(".date_selector > .select_item").click(function(a){a.preventDefault();$(".date_selector > .select_item").css("background-color","white");$(a.currentTarget).css("background-color","yellow")});$(".gametype_selector > .select_item").click(function(a){a.preventDefault();$(".gametype_selector > .select_item").css("background-color","white");$(a.currentTarget).css("background-color",
"yellow")})})});var apiUrl="http://localhost:8888/globroyal/",prodApiurl="https://globroyal.hu/globroyal/",openHours={open:0,close:0},selectedDate="",selectedTime="",selectedGameType="";function setOpenHours(a,b){openHours={open:a,close:b};selectedGameType&&gameTypeSelected(selectedGameType)}
function getOpenHours(a){var b=new Date(a);selectedDate=a;a=b.getDay();$.ajax({type:"POST",url:prodApiurl+"getOpenHours.php",data:{day:a},crossDomain:!0,dataType:"json",success:function(c){setOpenHours(Number(c.opening),0===Number(c.closing)?24:Number(c.closing))}})}
function gameTypeSelected(a){if(selectedDate){var b=selectedDate;selectedGameType=a;$.ajax({type:"post",url:prodApiurl+"getReservations.php",data:"data="+JSON.stringify({date:b}),dataType:"json",success:function(c){renderFreeTable(c,a)}})}}function renderFreeTable(a,b){for(var c=[],g="B"===b[0]?2:1,d=openHours.open;d<openHours.close;d+=g)c.push(d);var f=a.filter(function(e){return e.gameType===b});f=c.filter(function(e){return!f.find(function(h){return Number(h.time)===e})});renderTime(f)}
function setSelectedTime(a){selectedTime=a}
function submitForm(){var a={name:$("#name").val(),email:$("#email").val(),phone:$("#phone").val(),desc:$("#description").val(),coupon:$("#coupon").val(),date:selectedDate+" "+selectedTime,gameType:selectedGameType,userrank:1};$.ajax({type:"POST",url:prodApiurl+"setSchedule.php",data:"data="+JSON.stringify(a),dataType:"JSON",success:function(b){console.log("RUNNED");alert("Sikeres foglal\u00e1s");window.location.reload()},error:function(b){alert("Sikertelen foglal\u00e1s")}})}
function accepted(){$("body").css("overflow-y","scroll");$(".footer").css("display","none");$(".footer-blocking").css("display","none")}Date.prototype.addDays=function(a){var b=new Date(this.valueOf());b.setDate(b.getDate()+a);return b};