var releaseUrl="https://globroyal.hu/globroyal/",apiUrl=releaseUrl,adminGameData;function setAdminSchedule(a){$(".settings-panel").css("display","flex");adminGameData=a=freeDays[a];$(".admin-forms").css("display","block");$("#gametype").text(a.gameType);$("#date").text(date)}
function adminSetSchedule(){var a=$("#a-name").val(),f=$("#a-email").val(),e=$("#a-phone").val(),h=$("#a-desc").val(),g=$("#a-coupon-code").val();$.ajax({type:"POST",url:apiUrl+"setSchedule.php",data:"data="+JSON.stringify({name:a,email:f,phone:e,coupon:g,desc:h,gameType:adminGameData.gameType,date:date+" "+(10>adminGameData.time?"0"+adminGameData.time:adminGameData.time)+":00",nextDate:date+" "+(10>adminGameData.time?"0"+Number(adminGameData.time+1):Number(adminGameData.time+1))+":00",userrank:2}),
dataType:"JSON",success:function(a){alert(a.bookingStatus);a=(new Date(date)).getDay();getFreePos(date);getOpenHoursWithParam(a);closeAdminVipBookingPanel()},error:function(a){closeAdminVipBookingPanel()}})}function closeAdminBookingPanel(){$(".admin-forms").css("display","none");closePanel()}
function setVip(){var a=new Date,f=[],e=[],h=$("#newVipGameType").val(),g=Number($("#start").val().substr(0,2)),d=Number($("#end").val().substr(0,2)),b=Number($("#vipDay").val()),c=0,k=[];if(g>d)alert("Helytelen id\u0151pont");else{for(c=g;c<=d-2;c+=2)f.push(9<c?c+":00":"0"+c+":00");c=b>a.getDay()?a.getDate()+(b-a.getDay()):a.getDate()-(a.getDay()-b)}for(a=0;8>=a;a++)d=new Date,d.setDate(c),e.push(d.setDate(d.getDate()+7*a));for(c=0;c<e.length;c++)b=new Date(e[c]),a=b.getFullYear(),d=9>b.getMonth()?
"0"+(b.getMonth()+1):b.getMonth()+1,b=9>b.getDate()?"0"+b.getDate():b.getDate(),date=a+"-"+d+"-"+b,k.push(date);$.ajax({type:"POST",url:apiUrl+"setVip.php",data:"data="+JSON.stringify({dates:k,times:f,gameType:h}),dataType:"JSON",success:function(a){alert("Sikeres VIP foglal\u00e1s")},error:function(a){alert("Sikertelen VIP foglal\u00e1s")}})}
function setVipSchedule(){var a=new Date(date),f=a.getFullYear(),e=9>a.getMonth()?"0"+(a.getMonth()+1):a.getMonth()+1,h=9>a.getDate()?"0"+Number(a.getDate()):Number(a.getDate());console.log(date);var g=f+"-"+e+"-"+h;f=$("#name").val();e=$("#email").val();h=$("#phone").val();var d=$("#desc").val(),b=$("#coupon-code").val();$.ajax({type:"POST",url:apiUrl+"setVip.php",data:"data="+JSON.stringify({name:f,email:e,phone:h,coupon:b,gameType:adminGameData.gameType,date:g+" "+(10>adminGameData.time?"0"+adminGameData.time:
adminGameData.time)+":00",userrank:3,desc:d,edit:!0}),dataType:"JSON",success:function(b){alert("Sikeres t\u00f6rl\u00e9s");console.log(b);console.log(g);getFreePos(g);getOpenHoursWithParam(a.getDay());closeAdminVipBookingPanel()},error:function(a){closeAdminVipBookingPanel()}})};